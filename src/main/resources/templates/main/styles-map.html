<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/main-layout}"
>
<head>
    <meta charset="UTF-8">
    <title>STYLECODI</title>
    <link rel="stylesheet" href="../../static/css/main/styles-map.css">
    <script src="../../static/js/main/styles-my.js" defer></script>
</head>
<body>

<main layout:fragment="main">
    <section class="styles-my-section">
        <h1>StyleSnap</h1>
        <div class="button-container">
            <a href="/styles"><div class="tab" id="order-select-button">시작하기</div ></a>
            <a href="/styles-map"><div class="tab" id="">스타일 맵 만들기</div></a>
            <a href="/styles-store"><div class="tab" id="order-all-button">스토어 상품으로</div></a>
        </div>
        <hr>

        <div class="all-section">
            <!-- 왼쪽 섹션 -->
            <div class="left-section">
                <div class="upload-container">
                    <div class="upload-item">
                        <h2>👕 상의</h2>
                        <div id="topPreview" class="preview-box" onclick="document.getElementById('topInput').click();">
                            <span>이미지 첨부</span>
                        </div>
                        <input id="topInput" type="file" accept="image/*" style="display: none;" onchange="previewImage(event, 'topPreview')">
                    </div>
                    <div class="upload-item">
                        <h2>👖 하의</h2>
                        <div id="bottomPreview" class="preview-box" onclick="document.getElementById('bottomInput').click();">
                            <span>이미지 첨부</span>
                        </div>
                        <input id="bottomInput" type="file" accept="image/*" style="display: none;" onchange="previewImage(event, 'bottomPreview')">
                    </div>
                    <div class="upload-item">
                        <h2>🧥 아우터</h2>
                        <div id="outerPreview" class="preview-box" onclick="document.getElementById('outerInput').click();">
                            <span>이미지 첨부</span>
                        </div>
                        <input id="outerInput" type="file" accept="image/*" style="display: none;" onchange="previewImage(event, 'outerPreview')">
                    </div>
                    <div class="upload-item">
                        <h2>👜 가방</h2>
                        <div id="bagPreview" class="preview-box" onclick="document.getElementById('bagInput').click();">
                            <span>이미지 첨부</span>
                        </div>
                        <input id="bagInput" type="file" accept="image/*" style="display: none;" onchange="previewImage(event, 'bagPreview')">
                    </div>
                    <div class="upload-item">
                        <h2>👢 신발</h2>
                        <div id="shoesPreview" class="preview-box" onclick="document.getElementById('shoesInput').click();">
                            <span>이미지 첨부</span>
                        </div>
                        <input id="shoesInput" type="file" accept="image/*" style="display: none;" onchange="previewImage(event, 'shoesPreview')">
                    </div>
                </div>

                <button id="combineButton">👕 + 👖 조합하기</button>

            </div>

            <!-- 오른쪽 섹션 -->
            <div class="right-section">
                <div class="combined" id="combinedResult">
                    <img src="../../static/images/styles/example.jpg" alt="초기 레이아웃 이미지" style="max-width: 100%;">
                </div>

                <div id="downloadButtonContainer" style="display: none;">
                    <a id="downloadLink" href="#" download="combined-image.png">
                        <button>조합 이미지 다운로드</button>
                    </a>
                </div>
            </div>
        </div>
    </section>
</main>

</body>
</html>